# ğŸš€ CF-Workers-Raw EdgeOne Pages ç‰ˆæœ¬ï¼šè½»æ¾è®¿é—®GitHubç§æœ‰ä»“åº“

ğŸ” è¿™ä¸ªé¡¹ç›®çš„ EdgeOne Pages ç‰ˆæœ¬å…è®¸ä½ é€šè¿‡è…¾è®¯äº‘ EdgeOne Pages å®‰å…¨åœ°è®¿é—®GitHubç§æœ‰ä»“åº“ä¸­çš„åŸå§‹æ–‡ä»¶ï¼Œæ— éœ€ç›´æ¥æš´éœ²ä½ çš„GitHubä»¤ç‰Œã€‚

## ğŸ“ éƒ¨ç½²ç»“æ„

æœ¬é¡¹ç›®ç°åœ¨åŒ…å«ä¸¤ä¸ªç‰ˆæœ¬ï¼š

### Cloudflare Workers ç‰ˆæœ¬
- ğŸ“„ `_worker.js` - Cloudflare Workers è„šæœ¬
- âš™ï¸ `wrangler.toml` - Cloudflare Workers é…ç½®

### EdgeOne Pages ç‰ˆæœ¬ âœ¨
- ğŸ“ `functions/` - EdgeOne Pages Functions ç›®å½•
- ğŸ“„ `functions/[[path]].js` - å¤„ç†æ‰€æœ‰åŠ¨æ€è·¯å¾„çš„å‡½æ•°

## ğŸš€ EdgeOne Pages éƒ¨ç½²æŒ‡å—

### 1. é¡¹ç›®ç»“æ„
EdgeOne Pages ç‰ˆæœ¬ä½¿ç”¨ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š
```
â”œâ”€â”€ functions/
â”‚   â””â”€â”€ [[path]].js    # æ•è·æ‰€æœ‰è·¯å¾„çš„åŠ¨æ€è·¯ç”±å‡½æ•°
â”œâ”€â”€ _worker.js         # (ä¿ç•™åŸç‰ˆæœ¬ï¼Œä¾›å‚è€ƒ)
â”œâ”€â”€ wrangler.toml      # (ä¿ç•™åŸç‰ˆæœ¬ï¼Œä¾›å‚è€ƒ)
â””â”€â”€ README.md
```

### 2. éƒ¨ç½²æ­¥éª¤

1. **ä¸Šä¼ é¡¹ç›®åˆ° Git ä»“åº“**
   - å°†æ•´ä¸ªé¡¹ç›®æ¨é€åˆ°æ‚¨çš„ Git ä»“åº“ï¼ˆGitHubã€GitLab ç­‰ï¼‰

2. **åœ¨ EdgeOne Pages æ§åˆ¶å°åˆ›å»ºé¡¹ç›®**
   - ç™»å½•è…¾è®¯äº‘ EdgeOne æ§åˆ¶å°
   - è¿›å…¥ Pages æœåŠ¡
   - ç‚¹å‡»"æ–°å»ºç«™ç‚¹"
   - è¿æ¥æ‚¨çš„ Git ä»“åº“
   - é€‰æ‹©åŒ…å«æ­¤é¡¹ç›®çš„ä»“åº“å’Œåˆ†æ”¯

3. **æ„å»ºè®¾ç½®**
   - æ„å»ºå‘½ä»¤ï¼šç•™ç©ºï¼ˆæ— éœ€æ„å»ºï¼‰
   - è¾“å‡ºç›®å½•ï¼š`/`ï¼ˆæ ¹ç›®å½•ï¼‰
   - ç¯å¢ƒå˜é‡ï¼šåœ¨éƒ¨ç½²è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡

### 3. ç¯å¢ƒå˜é‡é…ç½®

åœ¨ EdgeOne Pages æ§åˆ¶å°çš„ç¯å¢ƒå˜é‡è®¾ç½®ä¸­æ·»åŠ ï¼š

| å˜é‡å | ç¤ºä¾‹ | å¿…å¡« | å¤‡æ³¨ | 
|--|--|--|--|
| GH_TOKEN| `ghp_CgmlL2b5J8Z1soNUquc0bZblkbO3gKxhn13t`| âŒ| æ‚¨çš„GitHubä»¤ç‰Œ |
| TOKEN| `nicaibudaowo` | âŒ| è‡ªå®šä¹‰è®¿é—®å¯†é’¥ |
| TOKEN_PATH| `123456@sh,abcdef@admin` | âŒ| è·¯å¾„ä¸“ç”¨ä»¤ç‰Œé…ç½® |
| GH_NAME| `cmliu` | âŒ| ä½ çš„GitHubç”¨æˆ·å |
| GH_REPO| `CF-Workers-Raw` | âŒ| ä½ çš„GitHubä»“åº“å |
| GH_BRANCH| `main` | âŒ| ä½ çš„GitHubåˆ†æ”¯å |
| URL302 | `https://t.me/CMLiussss` |âŒ| ä¸»é¡µ302è·³è½¬ |
| URL | `https://github.com/cmliu/CF-Workers-Raw` |âŒ| ä¸»é¡µä¼ªè£… |
| ERROR | `æ— æ³•è·å–æ–‡ä»¶ï¼Œæ£€æŸ¥è·¯å¾„æˆ–TOKENæ˜¯å¦æ­£ç¡®ã€‚` |âŒ| è‡ªå®šä¹‰é”™è¯¯æç¤º |

## ğŸ“– EdgeOne Pages ç‰ˆæœ¬ä½¿ç”¨æ–¹æ³•

å‡è®¾ä½ çš„ EdgeOne Pages é¡¹ç›®éƒ¨ç½²åœ¨ `your-project.pages.dev`ï¼Œä½¿ç”¨æ–¹æ³•ä¸ Cloudflare Workers ç‰ˆæœ¬å®Œå…¨ç›¸åŒï¼š

### ğŸ”‘ æ–¹æ³•1ï¼šé€šè¿‡URLå‚æ•°ä¼ é€’ä»¤ç‰Œ
```url
https://your-project.pages.dev/cmliu/CF-Workers-Raw/main/_worker.js?token=ä½ çš„GitHubä»¤ç‰Œ
```

### ğŸ”’ æ–¹æ³•2ï¼šä½¿ç”¨è‡ªå®šä¹‰è®¿é—®æ§åˆ¶
è®¾ç½® `GH_TOKEN` å’Œ `TOKEN` ç¯å¢ƒå˜é‡åï¼š
```url
https://your-project.pages.dev/cmliu/CF-Workers-Raw/main/_worker.js?token=mysecretkey
```

### ğŸ¯ æ–¹æ³•3ï¼šè·¯å¾„ä¸“ç”¨ä»¤ç‰Œæ§åˆ¶
è®¾ç½® `TOKEN_PATH="123456@sh,abcdef@admin"` åï¼š
```url
https://your-project.pages.dev/sh/script.py?token=123456
https://your-project.pages.dev/admin/config.json?token=abcdef
```

### ğŸ” æ–¹æ³•4ï¼šéšè—GitHubè·¯å¾„ä¿¡æ¯
è®¾ç½® `GH_NAME`ã€`GH_REPO`ã€`GH_BRANCH` åï¼š
```url
https://your-project.pages.dev/_worker.js?token=mysecretkey
```

## ğŸ”„ ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | Cloudflare Workers | EdgeOne Pages |
|------|-------------------|---------------|
| éƒ¨ç½²æ–¹å¼ | `wrangler deploy` | Git è¿æ¥è‡ªåŠ¨éƒ¨ç½² |
| æ–‡ä»¶ç»“æ„ | å•æ–‡ä»¶ `_worker.js` | `functions/[[path]].js` |
| ç¯å¢ƒå˜é‡ | Workers æ§åˆ¶å°è®¾ç½® | Pages æ§åˆ¶å°è®¾ç½® |
| è‡ªå®šä¹‰åŸŸå | æ”¯æŒ | æ”¯æŒ |
| æ€§èƒ½ | EdgeOne å…¨çƒåŠ é€Ÿ | EdgeOne å…¨çƒåŠ é€Ÿ |
| åŠŸèƒ½ | å®Œå…¨ç›¸åŒ | å®Œå…¨ç›¸åŒ |

## ğŸš€ å¿«é€Ÿè¿ç§»

å¦‚æœæ‚¨å·²ç»åœ¨ä½¿ç”¨ Cloudflare Workers ç‰ˆæœ¬ï¼š

1. å°†ç°æœ‰é¡¹ç›®å¤åˆ¶åˆ°æ–°ç›®å½•
2. ç¡®ä¿ `functions/[[path]].js` æ–‡ä»¶å­˜åœ¨
3. åœ¨ EdgeOne Pages ä¸­è¿æ¥ Git ä»“åº“
4. å¤åˆ¶ç°æœ‰çš„ç¯å¢ƒå˜é‡è®¾ç½®
5. éƒ¨ç½²å®Œæˆï¼

## ğŸ¯ æŠ€æœ¯ç»†èŠ‚

### EdgeOne Pages Functions è·¯ç”±è§„åˆ™
- `[[path]].js` - æ•è·æ‰€æœ‰åŠ¨æ€è·¯å¾„ï¼Œå¦‚ `/any/path/here`
- æ–‡ä»¶å¿…é¡»æ”¾åœ¨ `functions/` ç›®å½•ä¸‹
- å‡½æ•°å¿…é¡»å¯¼å‡º `onRequest` å‡½æ•°
- æ”¯æŒ `context` å‚æ•°ï¼ŒåŒ…å« `request`ã€`env` ç­‰å¯¹è±¡

### ä¸ Cloudflare Workers çš„å·®å¼‚
1. **å…¥å£å‡½æ•°**ï¼šä» `export default { fetch() }` æ”¹ä¸º `export async function onRequest(context)`
2. **ä¸Šä¸‹æ–‡è·å–**ï¼šä» `fetch(request, env)` æ”¹ä¸º `const { request, env } = context`
3. **æ–‡ä»¶è·¯å¾„**ï¼šä»æ ¹ç›®å½• `_worker.js` æ”¹ä¸º `functions/[[path]].js`

## ğŸ™ è‡´è°¢
- åŸé¡¹ç›®çµæ„Ÿæ¥æº
- EdgeOne Pages æŠ€æœ¯æ”¯æŒ
- ç¤¾åŒºè´¡çŒ®è€…ä»¬

---

ğŸ’¡ **æç¤º**ï¼šä¸¤ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éƒ¨ç½²åå¥½é€‰æ‹©ä½¿ç”¨ Cloudflare Workers æˆ– EdgeOne Pagesã€‚
